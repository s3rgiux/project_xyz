<?xml version="1.0"?>
<launch>
    
<!-- 

<node pkg="pitakuru" type="switch.py" name="switch">
        <rosparam command="load" file="$(find pitakuru)/config/bright_env/switch.yaml" />
    </node>
  
  
control xy is the main program build in c++ to make it more fast needs to be compiled if a modification is made-->
   

<!-- control xy is the main program build in c++ to make it more fast needs to be compiled if a modification is made-->
<node pkg="control_xy" type="control_xy_node_spline_follow_mixed" name="control_xy" output="screen">
<param name="break_distance"    type="double"	value="0.25"/> <!-- 0.75--><!-- breaking distance to  enter in danger zone  -->
<param name="break_danger"    type="double"	value="0.25"/><!-- 0.39--><!-- (not used depercated)distance to  enter in warning zone  -->	
<param name="low_vel_gain_karugamo"    type="double"	value="15"/> <!-- (not used depercated)karugamo gain  angle control   -->
<param name="high_vel_gain_karugamo"    type="double"	value="17"/><!-- 10--> <!-- (not used depercated)karugamo gain  angle control   -->
<param name="low_vel_gain_follow"    type="double"	value="12"/><!-- 17--><!-- people follow gain  angle control   -->
<param name="high_vel_gain_follow"    type="double"	value="12"/> <!-- 17--><!-- people follow gain  angle control   -->
<param name="frontal_gain_karugamo"    type="double"	value="17"/> <!-- (not used depercated)karugamo gain  angle control   -->
<param name="frontal_gain_follow"    type="double"	value="1600"/><!-- 2500--> <!-- gain for frontal control   -->
<param name="frontal_gain_manual"    type="double"	value="00"/> <!-- (not used depercated)gain frontal control   -->
<param name="smooth_accel_karugamo_near"    type="double"	value="0.985"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="smooth_accel_karugamo_far"    type="double"	value="0.985"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="smooth_accel_manual"    type="double"	value="0.985"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="smooth_accel_side_manual"    type="double"	value="0.91"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="smooth_accel_costmap"    type="double"	value="0.7"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="smooth_accel_stop"    type="double"	value="0.99"/> <!-- acceletartion smooth max value up to 0.99   -->
<param name="max_speed_karugamo"    type="double"	value="1200"/> <!-- (not used depercated)max speed value for karugamo   -->
<param name="max_speed_follow"    type="double"	value="1200"/> <!--1500--><!--3000--> <!--max speed value for frontal people follow-->
<param name="max_speed_manual"    type="double"	value="1950"/>  <!--15000--><!-- 3000--> <!-- max speed value for frontal joystick-->
<param name="max_speed_manual_heavy"    type="double"	value="1200"/>  <!--15000--><!-- 3000--> <!-- max speed value for frontal joystick-->
<param name="max_speed_side_manual"    type="double"	value="400"/> <!-- max speed value for side joystick-->
<param name="speed_wp_lost"    type="double"	value="1200"/> <!-- speed when is lost or wp mode-->
<param name="max_defelct_angle"    type="double"	value="60"/> <!-- max deflect angle-->
<param name="angle_gain_wp"    type="double"	value="100"/> <!-- max deflect angle-->
<param name="near_far_distance"    type="double"  value="320.0"/> <!-- distance to detect, enter near, far distance in centimeter-->
<param name="dist_robot_people"    type="double"	value="115"/> <!-- max deflect angle-->
<param name="max_dist_toacc"    type="double"	value="250"/> <!-- max dist ot accel or slow down-->
<param name="radius_follow"    type="double"	value="0.37"/> <!--1.0--><!-- radius checking zone to track people once that is already picked for tracking-->
<param name="tresh_amp_up"    type="double"	value="5.0"/> <!-- treshhold amp up -->
<param name="tresh_amp_down"    type="double"	value="3.0"/> <!-- treshhold amp dwn -->
<param name="trigger_vel"    type="double"	value="0.4"/> <!-- velocity to active search for load or not load-->
<param name="trigger_current"    type="double"	value="8"/> <!-- how many amps to activate the heavy load-->
<param name="vel_detect_scan"    type="double"	value="1.4"/> <!--vel to start detect collision-->
<param name="volts_charge"    type="double"	value="23.0"/> <!--vel to start detect collision-->
<param name="avg_curr_tresh"    type="double"	value="5.2"/> <!--vel to start detect collision-->
<param name="peak_curr_tresh"    type="double"	value="5.9"/> <!--vel to start detect collision-->
<param name="peak_not_heavy_curr"    type="double"	value="4.3"/> <!--vel to start detect collision-->
<param name="count_to_miss"    type="double"	value="40"/> <!--counter that if overpass this then we lost people-->
<param name="gain_to_costmap"    type="double"	value="1.5"/> <!--counter that if overpass this then we lost people-->
</node>

<!-- extract obstacles form region of interest and send to control_xy -->
<node pkg="obs_extract" type="main_sorted_kalman.py" name="obj_track" >
<param name="front_detection"    type="double"	value="7"/> <!-- 3.5 --><!-- 5 -->
<param name="side_detection"    type="double"	value="2.5"/>  <!-- 1.2 --><!-- 2.2 -->
</node>



</launch>
